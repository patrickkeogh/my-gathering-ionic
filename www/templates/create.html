

<ion-view view-title="Create">
  	<ion-content  class="padding">

	    	<form id="createGatheringForm" name="createGatheringForm" novalidate >

	    		<div class="list list-inset">

	    			<div class="row no-padding">
		    			<div class="col no-padding">
		    				<label class="item item-inputitem-stacked-label" ng-class="{ 'has-error' : createGatheringForm.name.$invalid && formSubmitted}">
			                	<span class="input-label label-primary">Name</span>
			                    <input class="form-control" ng-model="newGathering.name" 
			                    	id="name" name="name" type="text" 
			                    	placeholder="Name or Title" required ng-minlength="2" ng-maxlength="75">
			                </label>
			                
			                <div ng-if="formSubmitted" ng-messages="createGatheringForm.name.$error">
						      <div class="form-error" ng-message="required">This field is required.</div>						      
						    </div>
		            	</div>
	            	</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label"  
			                	ng-class="{ 'has-error' : createGatheringForm.description.$invalid  && formSubmitted}">
			                	<span class="input-label">Description</span>
		                    	<textarea class="form-control" ng-model="newGathering.description" name="description" placeholder="Description of Gathering" rows="6" required ng-minlength="2"></textarea>
			                </label>

			                <div ng-if="formSubmitted" ng-messages="createGatheringForm.description.$error">
						      <div class="form-error" ng-message="required">This field is required.</div>						      
						    </div>
		            	</div>
	            	</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
		            		<label class="item item-select" ng-class="{ 'has-error' : createGatheringForm.type.$invalid && formSubmitted}">
						    	<select id="type" name="type" class="form-control"
						    			required
	                                    ng-options="option._id for option in types track by option._id"
	                                    ng-model="newGathering.type">
	                                    <option style="display:none" value="">Select A Gathering Type</option>
						    	</select>
						  	</label>
						  	<div ng-if="formSubmitted" ng-messages="createGatheringForm.type.$error">
						      <div class="form-error" ng-message="required">This field is required.</div>					      
						    </div>

						</div>
					</div>

					<div class="row no-padding">
		    			<div class="col no-padding">
		            		<label class="item item-select" ng-class="{ 'has-error' : createGatheringForm.topic.$invalid && formSubmitted}">>
						    	<select id="topic" name="topic" class="form-control"
						    			required
	                                    ng-options="option._id for option in topics track by option._id"
	                                    ng-model="newGathering.topic">
	                                    <option style="display:none" value="">Select A Gathering Topic</option>
						    	</select>
						  	</label>
						  	<div ng-if="formSubmitted" ng-messages="createGatheringForm.topic.$error">
						      <div class="form-error" ng-message="required">This field is required.</div>						      
						    </div>

						</div>
					</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label" ng-class="{ 'has-error' : showDateError && formSubmitted}">
			                	<span class="input-label label-primary">Starting Date & Time</span>
			                    <div class="form-item">{{start_date }}</div>
			                </label>
						      <div class="form-error" ng-if="formSubmitted && showDateError">This field is required.</div>						      
		            	</div>
	            	</div>

	            	<div class="row no-padding no-padding-top">
		            	<div class="col col-48 no-padding-left">
		            		<button class="button button-block button-primary" ng-click="showDatePicker()">Select Date</button>
		            	</div>
		            	<div class="col col-48 no-padding-right">
		            		<button class="button button-block button-primary" ng-click="showTimePicker()">Select Time</button>
		            	</div>
	            	</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label" 
			                	ng-class="{ 'has-error' : createGatheringForm.location.$invalid && formSubmitted}">
			                	<span class="input-label label-primary">Location</span>
			                    <input name="location" type="text" g-places-autocomplete ng-model="place" 
			                    options="autocompleteOptions"
			                    required
			                    placeholder="Select a location ..." />
			                </label>
			                <div  ng-if="formSubmitted" ng-messages="createGatheringForm.location.$error">
						      <div class="form-error" ng-message="required">This field is required.</div>						      
						    </div>
		            	</div>
	            	</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label">
			                	<span class="input-label label-primary">Address</span>
			                    <div class="form-item">{{newLocation.name}}</div>
			                </label>
		            	</div>
	            	</div>
	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label">
			                	<span class="input-label label-primary">City</span>
			                    <div class="form-item">{{newLocation.locality}}</div>
			                </label>
		            	</div>
	            	</div>



	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label">
			                	<span class="input-label label-primary">State/Prov</span>
			                    <div class="form-item">{{newLocation.state_prov}}</div>
			                </label>
		            	</div>
	            	</div>

	            	<div class="row no-padding no-padding-top">
		            	<div class="col col-48 no-padding-left">
		            		<label class="item item-input item-stacked-label">
			                	<span class="input-label label-primary">Postal Code</span>
			                    <div class="form-item">{{newLocation.postal_code}}</div>
			                </label>
		            	</div>
		            	<div class="col col-48 no-padding-right">
		            		<label class="item item-input item-stacked-label">
			                	<span class="input-label label-primary">Country</span>
			                    <div class="form-item">{{newLocation.country}}</div>
			                </label>
		            	</div>
	            	</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
			                <label class="item item-input item-stacked-label">
			                	<span class="input-label">Directions</span>
		                    	<textarea class="form-control" ng-model="newLocation.notes" name="notes" 
		                    	placeholder="Enter special directions or notes needed to find this Gathering." rows="6"></textarea>
			                </label>
		            	</div>
	            	</div>

	            	<div class="row no-padding">
		    			<div class="col no-padding">
		            		<button class="button button-block button-primary" ng-click="createGathering(createGatheringForm.$valid)">Create Gathering</button>
						</div>
					</div>





	            </div>
			</form>

			<h5>Result:</h5>
            <pre>{{place | json}}</pre>
			  



  	</ion-content>
</ion-view>